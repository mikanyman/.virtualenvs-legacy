import sys,new,os; p = os.path.join(sys._getframe(1).f_locals['sitedir'], *('repoze',)); ie = os.path.exists(os.path.join(p,'__init__.py')); m = not ie and sys.modules.setdefault('repoze',new.module('repoze')); mp = (m or []) and m.__dict__.setdefault('__path__',[]); (p not in mp) and mp.append(p)
import sys,new,os; p = os.path.join(sys._getframe(1).f_locals['sitedir'], *('repoze', 'who')); ie = os.path.exists(os.path.join(p,'__init__.py')); m = not ie and sys.modules.setdefault('repoze.who',new.module('repoze.who')); mp = (m or []) and m.__dict__.setdefault('__path__',[]); (p not in mp) and mp.append(p); m and setattr(sys.modules['repoze'], 'who', m)
import sys,new,os; p = os.path.join(sys._getframe(1).f_locals['sitedir'], *('repoze', 'who', 'plugins')); ie = os.path.exists(os.path.join(p,'__init__.py')); m = not ie and sys.modules.setdefault('repoze.who.plugins',new.module('repoze.who.plugins')); mp = (m or []) and m.__dict__.setdefault('__path__',[]); (p not in mp) and mp.append(p); m and setattr(sys.modules['repoze.who'], 'plugins', m)
